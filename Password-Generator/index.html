<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Flip Card with Html CSS</title>
    <link rel="stylesheet" href="main.css">
  </head>
  <body>
    <div class="passwordGenerator">
      <h2>Password Generator</h2>
      <input type="text" name="passwordGenerator" id="passwordGenerator">
      <div class="btn">
        <button id="generator">Generate</button>
        <button id="copyBtn">Copy</button>
      </div>
    </div>

    <script>
      const passwordInput = document.getElementById("passwordGenerator");
      const generateBtn = document.getElementById("generator");
      const copyBtn = document.getElementById("copyBtn");

      // password generator function
      const generatePassword = (length=16) => {
        const character = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+~`|}{[]:;?><,./-="
        let pass = "";
        for(let i=0; i< length; i++) {
          const randomIndex = Math.floor(Math.random() * character.length);
          pass += character[randomIndex];
        }

        passwordInput.value = pass;
      }

      generateBtn.addEventListener("click", () => {
        generatePassword();
      })

      copyBtn.addEventListener("click", ()=> {
        if(!passwordInput.value) {
          alert("Generate a password first!");
          return
        }

        navigator.clipboard.writeText(passwordInput.value).then(() => {
          const originalText = copyBtn.innerText;
          copyBtn.innerText = "Copied";
          copyBtn.style.backgroundColor = "#4caf50";

          setTimeout(() => {
            copyBtn.innerText = originalText;
            copyBtn.style.backgroundColor = ""; // Reset
        }, 1500);
        })
      })
    </script>
  </body>
</html>
